type Transaction {
  id: ID! @unique
  number: String! @unique
  date: DateTime!
  bookingDate: DateTime
  amount: Money! @relation(name: "TransactionAmount")
  originalAmount: Money @relation(name: "OriginalAmount")
  status: TransactionStatus!
  partner: TransactionPartner
  sourceAccount: Account @relation(name: "SourceAccount")
  targetAccount: Account! @relation(name: "TargetAccount")
  card: Card
  category: Category
}

type Account {
  id: ID! @unique
  number: String! @unique
  name: String!
  type: AccountType!
  currency: Currency!
  balance: Money! @relation(name: "AccountBalance")
  bookedTransactions: Money @relation(name: "BookedTransactions")
  cards: [Card!]!
}

type Card {
  id: ID! @unique
  number: String! @unique
  name: String!
  holderName: String
  expiry: DateTime!
  account: Account
  cvc: String!
  limit: Int!
}

type Category {
  id: ID! @unique
  name: String!
}

type Money {
  amount: Float!
  currency: Currency!
}

type TransactionPartner {
  id: ID! @unique
  name: String!
  address: String!
}

enum TransactionStatus {
  IN_PROGRESS
  REJECTED
  FUTURE
  SUCCESSFUL
}

enum AccountType {
  SAVINGS
  CREDIT
  WEBCARD
  CURRENT
}

enum CardType {
  DEBIT
  CREDIT
  JUNIOR
  WEB
}

enum CardStatus {
  ACTIVE
  INACTIVE
  BLOCKED
}

enum Currency {
  EUR
  USD
  GBP
  HUF
}
